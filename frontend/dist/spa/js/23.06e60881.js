(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{"464b":function(e,r,s){"use strict";s.r(r);var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 col-12 offset-md-2 q-mt-md"},[s("q-card",{staticClass:"bg-grey-1"},[s("q-card-section",{staticClass:"q-py-xs bg-blue-grey-5 text-white"},[s("div",{staticClass:"text-h6"},[e._v("Update User Information")])]),s("q-separator"),s("q-card-section",{staticClass:"row"},[s("q-list",{staticClass:"col-md-6 col-12"},[s("q-item",[s("q-item-section",{attrs:{side:""}},[e._v("Role")]),s("q-item-section",{attrs:{side:""}},[s("q-chip",{staticClass:"text-white",attrs:{square:"",label:e.user.role,color:"admin"===e.user.role?"orange":"info"}})],1)],1),s("q-item",[s("q-item-section",[s("q-input",{attrs:{label:"Username","stack-label":"",error:!!e.errors.username,"error-message":e.errors.username,outlined:"","bg-color":"white"},model:{value:e.user.username,callback:function(r){e.$set(e.user,"username",r)},expression:"user.username"}})],1)],1),s("q-item",[s("q-item-section",[s("q-input",{attrs:{label:"Firstname","stack-label":"",error:!!e.errors.firstname,"error-message":e.errors.firstname,outlined:"","bg-color":"white"},model:{value:e.user.firstname,callback:function(r){e.$set(e.user,"firstname",r)},expression:"user.firstname"}})],1)],1),s("q-item",[s("q-item-section",[s("q-input",{attrs:{label:"Lastname","stack-label":"",error:!!e.errors.lastname,"error-message":e.errors.lastname,outlined:"","bg-color":"white"},model:{value:e.user.lastname,callback:function(r){e.$set(e.user,"lastname",r)},expression:"user.lastname"}})],1)],1),s("q-item",[s("q-item-section",[s("q-field",{attrs:{borderless:"",error:!!e.errors.newPassword,"error-message":e.errors.newPassword}},[s("q-input",{staticClass:"col-md-6 col-6 q-pr-sm",attrs:{label:"New Password","stack-label":"",type:"password",clearable:"",outlined:"","bg-color":"white"},model:{value:e.user.newPassword,callback:function(r){e.$set(e.user,"newPassword",r)},expression:"user.newPassword"}}),s("q-input",{staticClass:"col-md-6 col-6 q-pl-sm",attrs:{label:"Confirm Password","stack-label":"",type:"password",outlined:"","bg-color":"white",clearable:""},model:{value:e.user.confirmPassword,callback:function(r){e.$set(e.user,"confirmPassword",r)},expression:"user.confirmPassword"}})],1)],1)],1),s("q-item",[s("q-item-section",[s("q-input",{attrs:{label:"Current Password *","stack-label":"",type:"password",error:!!e.errors.currentPassword,"error-message":e.errors.currentPassword,outlined:"","bg-color":"white"},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.updateProfile(r)}},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-btn",{attrs:{label:"Update",unelevated:"",color:"secondary"},on:{click:e.updateProfile}})]},proxy:!0}]),model:{value:e.user.currentPassword,callback:function(r){e.$set(e.user,"currentPassword",r)},expression:"user.currentPassword"}})],1)],1)],1)],1),s("q-separator")],1)],1)])])},a=[],o=(s("436b"),s("2a19")),n=s("93d6"),i={data:function(){return{user:{},errors:{username:"",firstname:"",lastname:"",currentPassword:"",newPassword:""}}},mounted:function(){this.getProfile()},methods:{getProfile:function(){var e=this;n["a"].getProfile().then((function(r){e.user=r.data.datas})).catch((function(e){console.log(e)}))},updateProfile:function(){this.cleanErrors(),this.user.username||(this.errors.username="Username required"),this.user.firstname||(this.errors.firstname="Firstname required"),this.user.lastname||(this.errors.lastname="Lastname required"),this.user.currentPassword||(this.errors.currentPassword="Current Password required"),this.user.newPassword!==this.user.confirmPassword&&(this.errors.newPassword="New Password and Confirm Password are differents"),this.errors.username||this.errors.firstname||this.errors.lastname||this.errors.currentPassword||this.errors.newPassword||n["a"].updateProfile(this.user).then((function(e){n["a"].checkToken(),o["a"].create({message:"Profile updated successfully",color:"positive",textColor:"white",position:"top-right"})})).catch((function(e){o["a"].create({message:e.response.data.datas,color:"negative",textColor:"white",position:"top-right"})}))},cleanErrors:function(){this.errors.username="",this.errors.firstname="",this.errors.lastname="",this.errors.currentPassword="",this.errors.newPassword=""}}},l=i,c=s("2877"),u=Object(c["a"])(l,t,a,!1,null,null,null);r["default"]=u.exports}}]);